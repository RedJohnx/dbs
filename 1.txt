-- 1. Create SAILORS Table (Parent Table)
CREATE TABLE SAILORS (
    Sid INT,
    Sname VARCHAR(20),
    Rating INT,
    Age INT,
    PRIMARY KEY (Sid)
);

-- 2. Create BOATS Table (Parent Table)
CREATE TABLE BOATS (
    Bid INT,
    Bname VARCHAR(20),
    Colour VARCHAR(20),
    PRIMARY KEY (Bid)
);

-- 3. Create RESERVES Table (Child Table)
CREATE TABLE RESERVES (
    Sid INT,
    Bid INT,
    day DATE,
    FOREIGN KEY (Sid) REFERENCES SAILORS(Sid),
    FOREIGN KEY (Bid) REFERENCES BOATS(Bid)
);
-- Insert into SAILORS
INSERT INTO SAILORS VALUES (1, 'Albert', 7, 45);
INSERT INTO SAILORS VALUES (2, 'Bob', 2, 33);
INSERT INTO SAILORS VALUES (3, 'Chaya', 8, 25);
INSERT INTO SAILORS VALUES (4, 'Dinesh', 9, 30);
INSERT INTO SAILORS VALUES (5, 'Esha', 5, 28);

-- Insert into BOATS
INSERT INTO BOATS VALUES (101, 'Interlake', 'Red');
INSERT INTO BOATS VALUES (102, 'Clipper', 'Green');
INSERT INTO BOATS VALUES (103, 'Marine', 'Blue');
INSERT INTO BOATS VALUES (104, 'Drifter', 'Red');
INSERT INTO BOATS VALUES (105, 'Speed', 'White');

-- Insert into RESERVES
INSERT INTO RESERVES VALUES (1, 101, '2023-01-01');
INSERT INTO RESERVES VALUES (1, 102, '2023-01-02');
INSERT INTO RESERVES VALUES (2, 103, '2023-02-01');
INSERT INTO RESERVES VALUES (3, 101, '2023-02-05');
INSERT INTO RESERVES VALUES (3, 102, '2023-02-10');

SELECT DISTINCT Sname 
FROM SAILORS 
NATURAL JOIN RESERVES;

SELECT DISTINCT R.Sid
FROM RESERVES R, BOATS B
WHERE R.Bid = B.Bid 
AND B.Colour IN ('Red', 'Green');

SELECT Sid 
FROM SAILORS
WHERE Sid NOT IN (SELECT Sid FROM RESERVES);

